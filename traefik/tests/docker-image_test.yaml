suite: Docker image customization
templates:
  - deployment.yaml
tests:
  - it: should have the default Docker image when no value is specified
    asserts:
      - equal:
          path: spec.template.spec.containers[0].image
          value: traefik:2.1.1
  - it: should change image when image.tag value is specified
    set:
      image:
        tag: v2.0.0-beta1
    asserts:
      - equal:
          path: spec.template.spec.containers[0].image
          value: traefik:v2.0.0-beta1
  - it: should change image when image.name value is specified
    set:
      image:
        name: containous/traefik
    asserts:
      - equal:
          path: spec.template.spec.containers[0].image
          value: containous/traefik:2.1.1
